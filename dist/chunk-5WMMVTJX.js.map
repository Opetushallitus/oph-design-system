{"version":3,"sources":["../src/OphLink.tsx"],"names":[],"mappings":";;;;;AAAA,OAAO,eAAe;AACtB,SAAS,YAA2C;AAGpD,SAAS,kBAAkB;AAwDrB,SAEyB,KAFzB;AARC,IAAM,UACX,WAAW,SAAS,WAClB,EAAE,aAAa,UAAU,MAAM,GAAG,KAAK,GACvC,KACA;AACA,QAAM,qBACJ,gBAAgB,QAAQ,oBAAoB,KAAK,IAAI;AACvD,SACE,qBAAC,QAAK,MAAa,GAAG,MAAM,KACzB;AAAA;AAAA,IACA,sBAAsB,oBAAC,aAAU,WAAU,yBAAwB;AAAA,KACtE;AAEJ,CAAC","sourcesContent":["import OpenInNew from '@mui/icons-material/OpenInNew';\nimport { Link, type LinkOwnProps, type Theme } from '@mui/material';\nimport { EXTERNAL_LINK_REGEX } from './common';\nimport { type SystemProps } from '@mui/system';\nimport { forwardRef } from 'react';\nimport type {\n  OverridableComponent,\n  OverrideProps,\n} from '@mui/material/OverridableComponent';\n\ntype OmittedPropNames =\n  | keyof SystemProps<Theme>\n  | 'paragraph'\n  | 'TypographyClasses'\n  | 'variantMapping'\n  | 'align'\n  | 'gutterBottom'\n  | 'underline';\n\ninterface OphAdditionalLinkProps {\n  /** Icon visibility override. If not given, icon visibility is deduced from href (relative links without icon) */\n  iconVisible?: boolean;\n}\n\ninterface OphLinkTypeMap<\n  // eslint-disable-next-line @typescript-eslint/no-empty-object-type\n  AdditionalProps = {},\n  RootComponent extends React.ElementType = 'a',\n> {\n  props: AdditionalProps & Omit<LinkOwnProps, OmittedPropNames>;\n  defaultComponent: RootComponent;\n}\n\ntype MuiOphLinkProps<\n  RootComponent extends React.ElementType = OphLinkTypeMap['defaultComponent'],\n  // eslint-disable-next-line @typescript-eslint/no-empty-object-type\n  AdditionalProps = {},\n> = OverrideProps<\n  OphLinkTypeMap<AdditionalProps, RootComponent>,\n  RootComponent\n> & {\n  component?: React.ElementType;\n};\n\nexport type OphLinkProps<\n  C extends React.ElementType = React.ElementType,\n  D extends React.ElementType = OphLinkTypeMap['defaultComponent'],\n> = {\n  component?: C;\n} & Omit<MuiOphLinkProps<D, OphAdditionalLinkProps>, 'component'>;\n\n// https://github.com/mui/material-ui/issues/32420\nexport const OphLink: OverridableComponent<OphLinkTypeMap<OphLinkProps>> =\n  forwardRef(function renderLink<C extends React.ElementType>(\n    { iconVisible, children, href, ...rest }: OphLinkProps<C>,\n    ref: React.Ref<HTMLAnchorElement> | null,\n  ) {\n    const realIconVisibility =\n      iconVisible ?? (href && EXTERNAL_LINK_REGEX.test(href));\n    return (\n      <Link href={href} {...rest} ref={ref}>\n        {children}\n        {realIconVisibility && <OpenInNew className=\"OphLink-OpenInNewIcon\" />}\n      </Link>\n    );\n  }) as OverridableComponent<OphLinkTypeMap<OphLinkProps>>;\n"]}